function Vector(a,b,c){return this.x=a||0,this.y=b||0,this.z=c||0,this}Vector.prototype={add:function(a){if(a instanceof Vector)return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},sub:function(a){if(a instanceof Vector)return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},subtract:function(a){return sub(a)},multiply:function(a){return a instanceof Vector?(this.x*=a.x,this.y*=a.y,this.z*=a.z,this):"number"==typeof a?(this.x*=a,this.y*=a,this.z*=a,this):void 0},divide:function(a){return a instanceof Vector?(this.x/=a.x,this.y/=a.y,this.z/=a.z,this):"number"==typeof a?(this.x/=a,this.y/=a,this.z/=a,this):void 0},multiply_scalar:function(a){return this.multiply(a),this},divide_scalar:function(a){return this.divide(a),this},min:function(){return Math.min(this.x,this.y,this.z)},max:function(){return Math.max(this.x,this.y,this.z)},dot:function(a){if(a instanceof Vector)return this.x*=a.x,this.y*=a.y,this.z*=a.z,this},cross:function(a){if(a instanceof Vector)return this.x=this.y*a.z-this.z*a.y,this.y=this.z*a.x-this.x*a.z,this.z=this.x*a.y-this.y*a.z,this},dist:function(a){if(a instanceof Vector)return this.sub(a)},angleBetween:function(a){if(a instanceof Vector)return Math.acos(this.dot(this,a)/(this.mag()*a.mag()))},equals:function(a){if(a instanceof Vector)return this.x==a.x&&this.y==a.y&&this.z==a.z},copy:function(){return new Vector(this.x,this.y,this.z)},limit:function(a){if("number"==typeof a){let b=this.mag();if(b>a)return this.multiply(a/b),this}},setMag:function(a){if("number"==typeof a){let b=this.mag();return this.multiply(a/b),this}},rotate:function(a){if("number"==typeof a){let b=Math.cos(a)*this.x-Math.sin(a)*this.y,c=Math.sin(a)*this.x+Math.cos(a)*this.y;return this.x=b,this.y=c,this}},normalize:function(){return this.divide_scalar(this.mag()),this},invert:function(a,b,c){return a&&(this.x*=-1),b&&(this.y*=-1),c&&(this.z*=-1),a||b||c||(this.x*=-1,this.y*=-1,this.z*=-1),this},invertX:function(){return this.invert(!0,!1,!1),this},invertY:function(){return this.invert(!1,!0,!1),this},invertZ:function(){return this.invert(!1,!1,!0),this},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},magSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},heading2D:function(){return Math.atan2(this.y,this.x)},toString:function(){return`x: ${this.x}, y: ${this.y}, z: ${this.z}`}},Vector.fromAngle2D=function(a){return a=a||0,new Vector(Math.cos(a),Math.sin(a),0)},Vector.fromAngle3D=function(a,b){return a=a||0,b=b||0,new Vector(Math.cos(a)*Math.cos(b),Math.sin(b),Math.sin(a)*Math.cos(b))},Vector.random2D=function(){let a=2*Math.random()*Math.PI;return new Vector.fromAngle2D(a)},Vector.random3D=function(){let a=2*Math.random()*Math.PI,b=2*Math.random()*Math.PI;return new Vector.fromAngle3D(a,b)},Vector.fromArray=function(b){return new Vector(b[0],b[1],b[2])},Vector.fromObject=function(a){return new Vector(a.x,a.y,a.z)};
